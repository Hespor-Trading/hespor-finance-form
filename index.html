<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hespor Finance — Eligibility Form</title>

  <!-- Google Tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17625592669"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'AW-17625592669');
  </script>

  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="wrap">
    <!-- LEFT SIDE: FORM -->
    <section class="form-side">
      <header class="brand">
        <img src="hespor-logo.png" alt="Hespor Finance" class="logo" />
      </header>

      <h1>Check Your Eligibility</h1>
      <p class="subtitle">
        Apply for 90–120 day payment terms from your Chinese suppliers — no interest, no collateral.
      </p>

      <form id="lead-form" novalidate>
        <div class="field">
          <label>Company Name *</label>
          <input name="company" required />
        </div>

        <div class="field">
          <label>Company Registered Country</label>
          <input name="country" />
        </div>

        <div class="field">
          <label>Company Year Established *</label>
          <input type="date" name="founded" required />
        </div>

        <div class="field">
          <label>Company Website</label>
          <input type="url" name="website" placeholder="https://..." />
        </div>

        <div class="field">
          <label>Primary Business Type</label>
          <select name="businessType">
            <option value="">Select...</option>
            <option>Amazon FBA</option>
            <option>Shopify / DTC</option>
            <option>Walmart Marketplace</option>
            <option>Wholesale / B2B</option>
            <option>Aggregator</option>
            <option>Other</option>
          </select>
        </div>

        <div class="field">
          <label>Average Monthly Import Volume (USD) *</label>
          <input type="number" name="avgImport" min="0" step="1000" required />
        </div>

        <div class="field">
          <label>Approximate Revenue in the Last Fiscal Year (USD) *</label>
          <input type="number" id="revenue" name="revenue" min="0" step="1000" required />
          <small class="hint">Minimum eligibility starts at $500,000 annual revenue.</small>
        </div>

        <div class="field radios">
          <span>Do you currently work with suppliers in China? *</span>
          <label><input type="radio" name="chinaSuppliers" value="Yes" required /> Yes</label>
          <label><input type="radio" name="chinaSuppliers" value="No" /> No</label>
        </div>

        <div class="grid2">
          <div class="field">
            <label>Work Email *</label>
            <input type="email" name="email" required />
          </div>
          <div class="field">
            <label>WhatsApp (with country code)</label>
            <input name="whatsapp" placeholder="+1 604 000 0000" />
          </div>
        </div>

        <div class="field">
          <label>Message or Notes</label>
          <textarea name="message" rows="3" placeholder="Anything else we should know?"></textarea>
        </div>

        <button class="cta" type="submit">Submit</button>
        <p id="eligibilityNote" class="note" hidden>
          Unfortunately, based on your revenue, you may not be eligible at this time.
        </p>
      </form>
    </section>

    <!-- RIGHT SIDE: IMAGE -->
    <aside class="image-side">
      <img src="hero.jpg" alt="Hespor Finance" />
    </aside>
  </main>

  <script>
    const form = document.getElementById('lead-form');
    const revenue = document.getElementById('revenue');
    const note = document.getElementById('eligibilityNote');

    form.addEventListener('input', () => {
      const val = Number(revenue.value || 0);
      note.hidden = !(val > 0 && val < 500000);
    });

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const data = Object.fromEntries(new FormData(form).entries());
      const res = await fetch('/api/submit-form', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify(data),
      });
      const result = await res.json();
      if (result.success) {
        window.location.href = '/thank-you.html';
      } else {
        alert(result.message || 'Something went wrong. Please try again.');
      }
    });
  </script>
</body>
</html>
